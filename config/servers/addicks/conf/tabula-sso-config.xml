<?xml version="1.0" encoding="UTF-8"?>
<config>
  <!-- Do you want to allow HTTP BASIC auth on this filter? -->
  <httpbasic>
    <allow>true</allow>
  </httpbasic>
  <!-- Clustered token storage so both jbosses have access -->
  <cluster>
    <enabled>true</enabled>
    <datasource>java:/TabulaDS</datasource>
  </cluster>
	<!-- mode can be 'old' or 'new' this defines if the SSOClientFilter should use 
		the old WarwickSSO cookie or the newer SSO-SSC-* cookies -->
	<mode>new</mode>
	<origin>
		<!-- This is the id of the SSO origin, this might change when the service goes live -->
		<originid>urn:mace:eduserv.org.uk:athens:provider:warwick.ac.uk</originid>
		<login>
			<!-- url of the login page, should always be HTTPS -->
			<location>https://websignon.warwick.ac.uk/origin/hs</location>
		</login>
		<logout>
			<!-- url of the logout page, should always be HTTPS -->
			<location>https://websignon.warwick.ac.uk/origin/logout</location>
		</logout>
		<attributeauthority>
			<!-- url of the Attribute Authority -->
			<location>https://websignon.warwick.ac.uk/origin/aa</location>
		</attributeauthority>
	</origin>
	<shire>
		<!-- To get redirects working properly, pages need to know where to redirect back to after login 
			This is the request parameter key that contains the real url of the webpage, it is used to generate
			correct redirects. -->
		<uri-header>x-requested-uri</uri-header>
		<!-- location of this services SHIRE, should be HTTPS...as mapped in the web.xml -->
		<location>https://addicks.warwick.ac.uk/sso/acs</location>
		<sscookie>
			<!-- Name of the service specific cookie (SSC) that will be used for keeping a session -->
			<name>SSO-SSC-Tabula</name>
			<!-- path scope of this cookie -->
			<path>/</path>
			<!-- domain scope of this cookie...should be as restrictive as possible -->
			<domain>addicks.warwick.ac.uk</domain>
		</sscookie>
		<!-- provider id, as assigned by single sign on -->
		<providerid>urn:addicks.warwick.ac.uk:tabula:service</providerid>
		<keystore>
			<!-- location of the java keystore -->
			<location>file:/apps/jboss-5/server/tabula/conf/addicks.warwick.ac.uk.keystore</location>
			<!-- password for that keystore -->
			<password>changeit</password>
			<!-- keystore alias for the client service machine -->
			<shire-alias>addicks.warwick.ac.uk</shire-alias>
			<!-- keystore alias for the single sign on origin machine -->
			<origin-alias>websignon.warwick.ac.uk</origin-alias>
		</keystore>
	</shire>
	<logout>
		<location>https://addicks.warwick.ac.uk/sso/logout</location>
	</logout>
  <oauth>
    <enabled>true</enabled>
    <!-- Location of the OAuth service --> 
    <service>
      <location>https://websignon.warwick.ac.uk/origin/oauth/service</location>
    </service>
  </oauth>
  <cacertskeystore>
      <location>file:/Program Files/Java/jdk1.6.0_25/jre/lib/security/cacerts</location>
      <password>changeit</password>
  </cacertskeystore>
</config>
